import { Utils } from '@bahasa-ai/plugins-chatbot'
import { SatisfactionButton } from './Buttons'

export const AskUserToWaitHumanAgent = (isB2B: boolean = false) => {
  return [
    'Baik, mohon menunggu. Kami sedang menghubungkan kamu dengan tim Live Agent kami',
    '',
    'Ketik *batal* untuk membatalkan'
  ].join('\n')
}

export const ConnectedToAgentResponse = () => {
  return [
    'Terima kasih sudah menunggu. kamu telah terhubung dengan tim Live Agent kami 👩‍💻',
    '',
    '_Pesan kamu selanjutnya akan dibalas oleh tim kami ya_'
  ].join('\n')
}

export const OutsideWorkHourResponse = (userName: string) => {
  return [
    `Hi ${userName}, Terima kasih sudah menghubungi tim Live Agent kami. `,
    '',
    'Jam Operasional tim Live Agent kami:',
    `${Utils.workingDay()} Pk. ${Utils.workingHour()} WIB`,
    '',
    'Mohon ditunggu, terima kasih pengertiannya ☺️',
  ].join('\n')
}

export const TicketClosedResponse = () => {
  return [
    '_Tim kami telah mengakhiri percakapan_.',
    '',
    'Terima kasih telah menghubungi Live Agent kami'
  ].join('\n')
}


export const closingResponse = (additionalText: string[] = []) => {
  let interactiveText = ['Oh ya sebelum kamu pergi, kasih tahu Raya seberapa puas kamu dengan layanan Live Agent kami kali ini ya. Semoga harimu menyenangkan 😊']

  if (additionalText) {
    interactiveText = [...additionalText, ...interactiveText]
  }

  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      body: {
        text: interactiveText.join('\n')
      },
      action: {
        buttons: SatisfactionButton
      }
    }
  }
}


export const ClosedByBotTag = 'solved_by_bot'
export const ClosedByAgentTag = 'solved_by_agent'
export const MelebihiLimitPendingTag = 'melebihi_limit_pending'
